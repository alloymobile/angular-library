<div class="container-fluid">
    <!--Search-->
    <div class="row input-group mt-2">
      <div class="col-sm-8">
        <alloy-input-text-icon-label
          [inputTextIconLabel]="search"
          (output)="onSearchClick($event)"
        ></alloy-input-text-icon-label>
      </div>
      <div class="col-sm-4 d-flex justify-content-end">
        <button class="btn btn-outline-dark m-2" (click)="onClicked('Download')">
          <alloy-icon [icon]="downloadIcon"></alloy-icon>
          Download
        </button>
        <button class="btn btn-outline-dark m-2" (click)="onClicked('Add')">
          <alloy-icon [icon]="uploadIcon"></alloy-icon>
          Upload
        </button>
      </div>
    </div>
    <!--Table-->
    <div class="row">
      <div class="col-12">
        <table [class]="_crudFileAction.table.className" [id]="_crudFileAction.table.id">
          <caption class="caption-top text-center">
            {{
              _crudFileAction.table.name
            }}
          </caption>
          <thead>
            <!-- <tr *ngIf="_crudFileAction.table.rows[0] != undefined"> -->
            <tr>
              <th scope="col">
                <input class="form-check-input me-1" type="checkbox" value="all" [ngModel]="checked" id="checkAll" (change)="onSelectAll()">
                Type
              </th>
              <th
                scope="col"
                *ngFor="let h of _crudFileAction.table.rows[0] | keyvalue"
              >
                <span *ngIf="h.key == 'name'">{{ capitalize(h.key) }}</span>
              </th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let body of _crudFileAction.table.rows; index as j">
              <td>
                <input class="form-check-input me-1" type="checkbox" [(ngModel)]="body.checked" [value]="body" [id]="'flexCheckDefault'+j" (change)="onSelectedRow(body)">
                <alloy-icon [icon]="_crudFileAction.table.icon"></alloy-icon>
              </td>
              <td class="cursor" *ngFor="let col of body | keyvalue" (click)="onFileClicked('Select', body)">
                <a *ngIf="col.key == 'name'">{{ col.value }}</a>
              </td>
              <td>
                <div class="btn-group" role="group" aria-label="Delete file">
                  <button
                    class="btn btn-outline-dark btn-sm border-0 mx-1"
                    (click)="onDeleteClicked('Delete', body)"
                  >
                    <alloy-icon [icon]="deleteIcon"></alloy-icon>
                  </button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <alloy-modal-file [modalFile]="_crudFileAction.modalFile" (output)="submitData($event)"></alloy-modal-file>
  <alloy-modal-toast [modalToast]="_crudFileAction.modalToast" (output)="submitData()"></alloy-modal-toast>
  