/* TD Table Action Component Styles */
/* Supports: Legacy mode AND Grouped mode with cell types */

:host {
  display: block;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* TABLE BASE STYLES                                                            */
/* ═══════════════════════════════════════════════════════════════════════════ */

.table-responsive {
  overflow-x: auto;
}

table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.875rem;
}

caption {
  padding: 0.5rem;
  font-weight: 600;
  color: #6c757d;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* HEADER STYLES                                                                */
/* ═══════════════════════════════════════════════════════════════════════════ */

thead {
  background-color: #f8f9fa;
}

th {
  padding: 0.75rem;
  text-align: center;
  font-weight: 600;
  color: #495057;
  border-bottom: 2px solid #dee2e6;
  vertical-align: middle;
  white-space: nowrap;
}

/* Primary header row */
.header-row-primary th {
  border-bottom: 1px solid #dee2e6;
}

/* Secondary header row (sub-headers) */
.header-row-secondary th {
  background-color: #f1f3f5;
  font-weight: 500;
  font-size: 0.8125rem;
  color: #6c757d;
  border-bottom: 2px solid #dee2e6;
}

/* Grouped column header */
.grouped-column-header {
  background-color: #f8f9fa;
  border-left: 1px solid #dee2e6;
  border-right: 1px solid #dee2e6;
}

/* Sub-column headers */
.sub-column-header {
  border-left: 1px solid #e9ecef;
}

.sub-column-header:last-child {
  border-right: 1px solid #e9ecef;
}

/* Simple column header */
.simple-column-header {
  background-color: #f8f9fa;
  border-bottom: 2px solid #dee2e6;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* SORTABLE HEADER STYLES                                                       */
/* ═══════════════════════════════════════════════════════════════════════════ */

.sortable-header {
  cursor: pointer;
  user-select: none;
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  transition: background-color 150ms ease;
}

.sortable-header:hover {
  background-color: rgba(0, 0, 0, 0.05);
  text-decoration: underline;
}

.sortable-header:focus {
  outline: 2px solid rgba(13, 110, 253, 0.5);
  outline-offset: 2px;
  border-radius: 2px;
}

.sort-indicator {
  display: inline-flex;
  align-items: center;
}

.sort-indicator i {
  font-size: 0.875em;
  color: #0d6efd;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* COLUMN WIDTH STYLES                                                          */
/* ═══════════════════════════════════════════════════════════════════════════ */

/* Checkbox column */
.checkbox-column-header,
.checkbox-column {
  width: 50px;
  min-width: 50px;
  text-align: center;
}

/* Icon column */
.icon-column-header,
.icon-column {
  width: 60px;
  min-width: 60px;
  text-align: center;
}

/* Actions column */
.actions-column-header,
.actions-column {
  width: auto;
  min-width: 120px;
  text-align: right;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* BODY STYLES                                                                  */
/* ═══════════════════════════════════════════════════════════════════════════ */

tbody tr {
  border-bottom: 1px solid #e9ecef;
  transition: background-color 150ms ease;
}

tbody tr:last-child {
  border-bottom: none;
}

tbody tr:hover {
  background-color: rgba(0, 0, 0, 0.02);
}

/* Selected row */
.row-selected {
  background-color: rgba(13, 110, 253, 0.05) !important;
}

.row-selected:hover {
  background-color: rgba(13, 110, 253, 0.08) !important;
}

td {
  padding: 0.75rem;
  text-align: center;
  vertical-align: middle;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* CLICKABLE ROW & CELL STYLES                                                  */
/* ═══════════════════════════════════════════════════════════════════════════ */

.table-row-clickable {
  cursor: pointer;
}

.table-row-clickable:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

.table-row-clickable:focus {
  outline: 2px solid rgba(13, 110, 253, 0.5);
  outline-offset: -2px;
}

.cell-clickable {
  cursor: pointer;
}

.cell-link {
  display: block;
}

.cell-link:hover {
  text-decoration: underline !important;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* CHECKBOX STYLES                                                              */
/* ═══════════════════════════════════════════════════════════════════════════ */

.form-check-input {
  width: 1.125rem;
  height: 1.125rem;
  cursor: pointer;
  margin: 0;
}

.form-check-input:checked {
  background-color: #0d6efd;
  border-color: #0d6efd;
}

.form-check-input:indeterminate {
  background-color: #0d6efd;
  border-color: #0d6efd;
}

.form-check-input:focus {
  border-color: #86b7fe;
  box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* INPUT CELL STYLES                                                            */
/* ═══════════════════════════════════════════════════════════════════════════ */

.cell-input {
  padding: 0.375rem 0.5rem;
}

.cell-input-field {
  width: 100%;
  min-width: 70px;
  max-width: 120px;
  text-align: center;
  font-size: 0.875rem;
}

.cell-input-field:focus {
  border-color: #86b7fe;
  box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.15);
}

.cell-input-field::placeholder {
  color: #adb5bd;
}

.cell-input-field:disabled {
  background-color: #e9ecef;
  cursor: not-allowed;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* ICON-TEXT CELL STYLES                                                        */
/* ═══════════════════════════════════════════════════════════════════════════ */

:host ::ng-deep td-icon-text {
  justify-content: center;
}

:host ::ng-deep td-icon-text i {
  font-size: 0.75rem;
  color: #6c757d;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* STATUS BADGE STYLES                                                          */
/* ═══════════════════════════════════════════════════════════════════════════ */

.badge {
  padding: 0.375em 0.75em;
  font-size: 0.8125rem;
  font-weight: 500;
  border-radius: 0.375rem;
}

.bg-success {
  background-color: #d4edda !important;
  color: #155724 !important;
}

.bg-warning {
  background-color: #fff3cd !important;
  color: #856404 !important;
}

.bg-danger {
  background-color: #f8d7da !important;
  color: #721c24 !important;
}

.bg-info {
  background-color: #d1ecf1 !important;
  color: #0c5460 !important;
}

.bg-secondary {
  background-color: #e2e3e5 !important;
  color: #383d41 !important;
}

.bg-primary {
  background-color: #cce5ff !important;
  color: #004085 !important;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* ACTIONS COLUMN                                                               */
/* ═══════════════════════════════════════════════════════════════════════════ */

:host ::ng-deep td-button-bar ul {
  margin-bottom: 0;
  justify-content: flex-end;
}

:host ::ng-deep td-button-bar li {
  list-style: none;
}

:host ::ng-deep td-button-bar button {
  padding: 0.25rem 0.5rem;
  font-size: 0.875rem;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* EMPTY STATE                                                                  */
/* ═══════════════════════════════════════════════════════════════════════════ */

.empty-state {
  padding: 2rem 1rem;
  font-style: italic;
  color: #868e96;
}

.text-secondary {
  opacity: 0.75;
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* RESPONSIVE ADJUSTMENTS                                                       */
/* ═══════════════════════════════════════════════════════════════════════════ */

@media (max-width: 1200px) {
  .cell-input-field {
    min-width: 60px;
    max-width: 90px;
  }
}

@media (max-width: 768px) {
  th, td {
    padding: 0.5rem 0.375rem;
    font-size: 0.8125rem;
  }

  .sortable-header {
    padding: 0.125rem 0.25rem;
  }

  .checkbox-column,
  .checkbox-column-header {
    width: 40px;
    min-width: 40px;
  }

  .icon-column,
  .icon-column-header {
    width: 45px;
    min-width: 45px;
  }

  .cell-input-field {
    min-width: 50px;
    max-width: 70px;
    font-size: 0.75rem;
  }

  .badge {
    font-size: 0.75rem;
    padding: 0.25em 0.5em;
  }
}