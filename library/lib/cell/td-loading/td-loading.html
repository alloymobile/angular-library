@if (loading.visible) {
  <div
    [id]="domId"
    [class]="loading.overlayClass"
    role="status"
    aria-live="polite"
    aria-modal="true"
    [attr.aria-label]="loading.ariaLabel"
    [attr.aria-busy]="loading.visible ? 'true' : null"
    tabindex="-1">

    <div [class]="loading.contentClass">
      <td-icon [icon]="loading.icon"></td-icon>

      @if (loading.message) {
        <div [class]="loading.messageClass">{{ loading.message }}</div>
      }

      <span class="visually-hidden" aria-live="polite">
        {{ loading.ariaLabel }}
      </span>
    </div>
  </div>
}
