<!-- Desktop Sidebar -->
<aside [id]="sidebar.id + '-desktop'" [class]="sidebar.className">
  <div class="sidebar-sticky pt-3">
    <!-- Title -->
    <h6 *ngIf="sidebar.hasTitle()" class="sidebar-heading px-3 mb-3 text-muted">
      {{ sidebar.title }}
    </h6>

    <!-- Categories -->
    <ng-container *ngFor="let category of sidebar.categories; trackBy: trackByCategory">
      <!-- Category title -->
      <h6
        *ngIf="category.hasTitle()"
        [id]="category.title.id"
        [class]="category.title.className || 'sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted'"
      >
        <span>{{ category.title.name }}</span>
      </h6>

      <!-- Category links -->
      <td-link-bar
        [linkBar]="category"
        (output)="onLinkBarOutput(category, $event)"
      ></td-link-bar>
    </ng-container>
  </div>
</aside>

<!-- Mobile Offcanvas Sidebar -->
<div
  [class]="sidebar.offcanvasClass"
  tabindex="-1"
  [id]="sidebar.close"
  [attr.aria-labelledby]="sidebar.close + '-label'"
>
  <!-- Offcanvas Header -->
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" [id]="sidebar.close + '-label'">
      {{ sidebar.title || 'Menu' }}
    </h5>
    <button
      type="button"
      class="btn-close"
      data-bs-dismiss="offcanvas"
      [attr.aria-label]="'Close'"
    ></button>
  </div>

  <!-- Offcanvas Body -->
  <div class="offcanvas-body">
    <ng-container *ngFor="let category of sidebar.categories; trackBy: trackByCategory">
      <!-- Category title -->
      <h6
        *ngIf="category.hasTitle()"
        [id]="category.title.id + '-mobile'"
        [class]="category.title.className || 'sidebar-heading d-flex justify-content-between align-items-center mt-3 mb-1 text-muted'"
      >
        <span>{{ category.title.name }}</span>
      </h6>

      <!-- Category links -->
      <td-link-bar
        [linkBar]="category"
        (output)="onLinkBarOutput(category, $event)"
      ></td-link-bar>
    </ng-container>
  </div>
</div>
