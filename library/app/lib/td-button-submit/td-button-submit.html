<button
  #buttonEl
  type="submit"
  [id]="domId"
  [class]="computedClass()"
  [title]="model.title"
  [attr.aria-label]="model.ariaLabel"
  [attr.aria-busy]="isLoading() || null"
  [attr.aria-disabled]="isDisabled() || null"
  [disabled]="isDisabled()"
  [attr.tabindex]="model.tabIndex"
  (click)="onClick($event)"
  (mouseenter)="onMouseEnter()"
  (mouseleave)="onMouseLeave()"
  (mousedown)="onMouseDown()"
  (mouseup)="onMouseUp()"
  (focus)="onFocus()"
  (blur)="onBlur()">
  
  <!-- Icon is ONLY visible while loading -->
  @if (isLoading()) {
    <span class="d-inline-flex align-middle">
      <td-icon [model]="computedIcon()"></td-icon>
    </span>
  }

  <span [class]="isLoading() ? 'px-2 align-middle' : 'align-middle'">
    {{ model.name }}
  </span>

  <!-- Screen reader loading announcement -->
  @if (isLoading()) {
    <span class="ms-2 visually-hidden" aria-live="polite">
      Loadingâ€¦
    </span>
  }
</button>
